---
import DarkModeButton from './DarkModeButton.astro'
---


<div class="w-full p-4 flex flex-col items-center justify-center absolute z-10 top-[-90px]">
    <img
        class="size-36 p-1 rounded-full ring-2 ring-gray-300 dark:ring-gray-500"
        src="assets/images/diego_profile.jpg"
        alt="Bordered avatar"
    />
    <div class="flex flex-col justify-center items-center">
        <h1 class= "text-white text-2xl font-bold tracking-wider">DiegoT4l</h1>
        <p class="text-gray-400 tracking-widest">Software Engineer</p>
    </div>
    <div class="pt-2">
        <DarkModeButton />
    </div>
</div>

<script>
	var themeToggleDarkIcon = document.getElementById("theme-toggle-dark-icon");
	var themeToggleLightIcon = document.getElementById(
		"theme-toggle-light-icon",
	);

	// Change the icons inside the button based on previous settings
	if (
		localStorage.getItem("color-theme") === "dark" ||
		(!("color-theme" in localStorage) &&
			window.matchMedia("(prefers-color-scheme: dark)").matches)
	) {
		themeToggleLightIcon.classList.remove("hidden");
	} else {
		themeToggleDarkIcon.classList.remove("hidden");
	}

	var themeToggleBtn = document.getElementById("theme-toggle");

	themeToggleBtn.addEventListener("click", function () {
		// toggle icons inside button
		themeToggleDarkIcon.classList.toggle("hidden");
		themeToggleLightIcon.classList.toggle("hidden");

		// if set via local storage previously
		if (localStorage.getItem("color-theme")) {
			if (localStorage.getItem("color-theme") === "light") {
				document.documentElement.classList.add("dark");
				localStorage.setItem("color-theme", "dark");
			} else {
				document.documentElement.classList.remove("dark");
				localStorage.setItem("color-theme", "light");
			}

			// if NOT set via local storage previously
		} else {
			if (document.documentElement.classList.contains("dark")) {
				document.documentElement.classList.remove("dark");
				localStorage.setItem("color-theme", "light");
			} else {
				document.documentElement.classList.add("dark");
				localStorage.setItem("color-theme", "dark");
			}
		}
	});
</script>